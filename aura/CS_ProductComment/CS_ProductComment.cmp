<aura:component description="CS_ProductComment" controller="CS_ReviewController">
    <aura:handler name="change" value="{!v.productId}" action="{!c.onChange}"/>
    <aura:attribute name="productId" type="String"/>
    <aura:attribute name="body" type="String"/>
    <aura:attribute name="reviews" type="ProductReview__c[]"/>
    <div class="slds-m-top_medium">
        <div>
            <h1 style="font-size: 1.3rem">Reviews</h1>
            <lightning:textarea name="input2" value="{!v.body}"/>
            <lightning:button label="Add review" onclick="{!c.onAddReview}"/>
        </div>
        <div class="slds-m-top_medium reviewsContainer">
            <aura:iteration items="{!v.reviews}" var="review">
                <div class="slds-m-around_large">
                    <div class="slds-m-top_medium">
                        <p style="font-size: 1.2rem">{!review.Body__c}</p>
                        <p style="font-size: 1,1rem" class="slds-m-top_medium">{!review.User__r.Name}  |
                            <span>
                        <lightning:formattedDateTime value="{!review.Created_At__c}" year="numeric" month="numeric" day="numeric"
                                                     hour="2-digit"
                                                     minute="2-digit"
                                                     hour12="false"/>
                            </span>
                        </p>
                        <hr/>
                    </div>
                </div>
            </aura:iteration>
        </div>
    </div>
</aura:component>
